
<main >

  <!-- <?php var_dump($variable['enrolls']); ?> -->
  <h1>Welcome Back <?=$_SESSION['user']['name'] ?? " " ?>
    <button class="btn" id="myBtn"><i class="fas fa-plus"></i>Create session</button>
  </h1>
  <div id="myModal" class="modal">
    <div class="modal-content">
      <form>
        <h2>create session</h2>
        <p>please enter the details for the session</p>
        <div class="form-group">
          <label for="name">Tutor Name</label>
          <input type="text" id="name" name="name" >
        </div>
        <div class="form-group">
          <label for="topic">Topic</label>
          <input type="text" id="topic" name="topic" >
        </div>
        <div class="form-group">
          <label for="session">Session details</label>
          <input type="text" id="session" name="session" >
        </div>
        
       <div class="button">
        <!-- <input type="submit" value="close" class="btn1-submit close"> -->
        <input type="submit" value="Submit" class="btn2-submit">
      </div>
      </form>
    </div>
  </div>
  
  
  <div class="cards">
      <div class="card">
        <div class="header">
         
          <p class="alert">Totsl Learners
            
          </p>
        </div>
        <div class="graphs">
          <span>0</span>
          <div class="graph">

          </div>
        </div>
      </div>
      <div class="card">
        <div class="header">
         
          <p class="alert">Total Submissions</p>
        </div>
        <div class="graphs">
          <span>0</span>
          <div class="graph">

          </div>
        </div>
      </div>
      
  </div>
 
  <!-- input -->
  <div class="content">
    <form id="animated">
    <input type="text" name="search" placeholder="Search..">
    </form>
    <div class="table">
      <section class="table__body">
        <table>
            <thead>
                <tr>
                    <th> <input type="checkbox"></th>
                    <th> Course Name </th>
                    <th> Learners name</th>
                    <th> Email </th>
                    <th> </th>
                    <th>Status</th>
                    <th>Final Leaner Assessment</th>      
                </tr>
            </thead>
            <tbody>
              <?php $i = 1; foreach($variable['enrolls'] as $e) { ?>
                <tr>
                    <td> <?=$i ?> </td>
                    <td> <?=$e->course ?? '' ?></td>
                    <td> <?=$e->learner ?? '' ?> </td>
                    <td> <?=$e->learnerData->email ?? '' ?> </td>  
                    <td> <?=$e->status ?? '' ?></td>    
                    <td> <?=$e->date ?? '' ?></td>
                    <!-- <td> </td>
                    <td> </td> -->
                    <td>
                      <div class="menu">
                        <button class="actionBtn">Action</button>
                        
                        <ul class="menu-link">
                          <?php if(($e->status == 'active')){ ?>

                            <li><a href="index.php?seo_name=tutor_dashboard&amp;act=pass&amp;id=<?=$e->id ?>">Pass</a></li>

                          <?php } ?>

                        </ul>
                      </div> 
                    </td>            
                </tr>

           
            <?php $i++; } ?>
                
                
            </tbody>
            
        </table>
        <div class="table-btn">
          <button class="pre">next</button>
          <button class="next">next</button>
        </div>
        
    </div>
</div>

</main>


<script>
  // Get the modal
var modal2 = document.getElementById('coverage');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
if (event.target == modal2) {
modal2.style.display = "none";
}
}
</script>
<script>
//search
var searchInput = document.querySelector("input[name='search']");
var tableRows = document.querySelectorAll(".table__body tbody tr");

// Event listener for the search input
searchInput.addEventListener("input", function() {
 var searchValue = searchInput.value.trim().toLowerCase();

 // Iterate through each table row and hide/show based on the search value
 tableRows.forEach(function(row) {
   var contentCells = Array.from(row.querySelectorAll("td"));

   var isContentFound = contentCells.some(function(cell) {
     var cellContent = cell.textContent.toLowerCase();
     return cellContent.includes(searchValue);
   });

   if (isContentFound) {
     row.style.display = "";
   } else {
     row.style.display = "none";
   }
 });
});


</script>


<script >
  const allaction = document.querySelectorAll('main .menu');

 allaction.forEach(item=> {
   const icon = item.querySelector('.actionBtn');
   const menuLink = item.querySelector('.menu-link');
 
   icon.addEventListener('click', function () {
     menuLink.classList.toggle('show');
   })
 })
</script>